function copiarAlPortapapeles(e){console.log("Intentando copiar al portapapeles:",e),navigator.clipboard?navigator.clipboard.writeText(e).then(function(){console.log("Texto copiado al portapapeles con Clipboard API")}).catch(function(t){console.error("Error al copiar al portapapeles con Clipboard API:",t),copiarConExecCommand(e)}):copiarConExecCommand(e)}function copiarConExecCommand(e){var t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select();try{var a=document.execCommand("copy");console.log("Texto copiado con execCommand:",a)}catch(e){console.error("Error al copiar con execCommand:",e)}document.body.removeChild(t)}!function(){const e={aAjax:function(e){e.preventDefault();const t=this.dataset.confirm;if(t&&!confirm(t))return!1;const a=document.querySelector(this.dataset.ajax);console.log([a,this.href]),fetch(this.href).then(e=>e.text()).then(e=>{a.innerHTML=e,console.log([a,this.href])}).catch(e=>console.error("Error:",e))},active:function(){document.querySelector(this.dataset.active).classList.remove("active"),this.classList.add("active")},alert:function(){alert(this.dataset.alert)},checkbox:function(e){console.log(e),e.readOnly?e.checked=e.readOnly=!1:e.checked||(e.readOnly=e.indeterminate=!0)},clone_content_append:function(){const e=this.dataset.clone_content_append.split(", "),t=document.querySelector(e[0]),a=document.querySelector(e[1]);if(console.log([e,t,a]),t instanceof HTMLTemplateElement){const e=document.importNode(t.content,!0);a.appendChild(e)}},confirm:function(e){confirm(this.dataset.confirm)||(e.preventDefault(),e.stopImmediatePropagation())},effect:function(e){return function(){document.querySelector(this.dataset[e]).style[e]()}},formAjax:function(e){e.preventDefault();const t=this.closest("form"),a=t.getAttribute("action");let o;o=t.dataset.ajaxAppend?document.querySelector(t.dataset.ajaxAppend):t.dataset.ajaxPrepend?document.querySelector(t.dataset.ajaxPrepend):document.querySelector(t.dataset.ajax);const c=new FormData(t),n=t.querySelectorAll('[type="submit"]');n.forEach(e=>e.setAttribute("disabled","disabled"));const l=this.getAttribute("name");if(void 0!==l){const e=this.value;c.append(l,e)}const r=t.querySelector('[type="file"]');r&&c.append("file",r.files[0]),fetch(a,{method:"POST",body:c}).then(e=>e.text()).then(e=>{let c;t.dataset.ajaxAppend?(o.innerHTML+=e,c="append"):t.dataset.ajaxPrepend?(o.innerHTML=e+o.innerHTML,c="prepend"):(o.innerHTML=e,c="normal"),n.forEach(e=>e.removeAttribute("disabled")),console.log([o,a,c])}).catch(e=>console.error("Error:",e))},live:function(){const e=document.querySelector(this.dataset.live),t=this.dataset.href;fetch(t,{method:"POST",body:JSON.stringify({keywords:this.value})}).then(e=>e.text()).then(a=>{e.innerHTML=a,console.log([e,t,this.value])}).catch(e=>console.error("Error:",e))},remove:function(){("parent"===this.dataset.remove?this.parentElement:document.querySelector(this.dataset.remove)).remove()},selectAjax:function(){const e=document.querySelector(this.dataset.ajax),t=this.dataset.href+this.value;fetch(t).then(e=>e.text()).then(a=>{e.innerHTML=a,console.log([e,t])}).catch(e=>console.error("Error:",e))},selectRedirect:function(){const e=this.dataset.redirect+this.value;location.href=e},selectToggle:function(){const e=document.querySelector(this.dataset.changeToggle);e.style.display="none"===e.style.display?"block":"none"},style:function(){const e=this.dataset.style.split(", "),t=e[0],a=e[1];document.querySelector(t).setAttribute("style",a)},toggleClass:function(){const e=this.dataset.toggleClass.split(", "),t=e[0];document.querySelector(e[1]).classList.toggle(t)},toggleDisplay:function(){const e=document.querySelector(this.dataset.toggleDisplay);"none"===window.getComputedStyle(e).display?e.style.display="flex":e.style.display="none"},bind:function(){document.body.addEventListener("click",function(t){const a=t.target,o=e=>a.closest(e);let c;(c=o("[data-active]"))&&e.active.call(c),(c=o("a[data-ajax]"))&&e.aAjax.call(c),(c=o('form[data-ajax] [type="submit"]'))&&e.formAjax.call(c),(c=o('form[data-ajax_append] [type="submit"]'))&&e.formAjax.call(c),(c=o('form[data-ajax_prepend] [type="submit"]'))&&e.formAjax.call(c),(c=o('[type="checkbox"]'))&&e.checkbox.call(t),(c=o("select[data-ajax]"))&&e.selectAjax.call(c),(c=o("select[data-redirect]"))&&e.selectRedirect.call(c),(c=o("select[data-change_toggle]"))&&e.selectToggle.call(c),(c=o("[data-alert]"))&&e.alert.call(c),(c=o("[data-click]"))&&e.effect("click").call(c),(c=o("[data-clone_content_append]"))&&e.clone_content_append.call(c),(c=o("[data-confirm]"))&&e.confirm.call(c),(c=o("[data-fade_out]"))&&e.effect("fadeOut").call(c),(c=o("[data-hide]"))&&e.effect("hide").call(c),(c=o("[data-live]"))&&e.live.call(c),(c=o("[data-remove]"))&&e.remove.call(c),(c=o("[data-show]"))&&e.effect("show").call(c),(c=o("[data-slide_down]"))&&e.effect("slideDown").call(c),(c=o("[data-style]"))&&e.style.call(c),(c=o("[data-toggle]"))&&e.effect("toggle").call(c),(c=o("[data-toggle_class]"))&&e.toggleClass.call(c),(c=o("[data-toggle_display]"))&&e.toggleDisplay.call(c)})}};e.bind()}(),document.body.addEventListener("click",function(e){var t=e.target.closest("[data-share]");if(t){var a=t.getAttribute("data-share");console.log("Elemento clicado, URL a copiar/compartir:",a),navigator.share?navigator.share({title:"",text:"",url:a}).then(function(){console.log("Compartido exitosamente")}).catch(function(e){console.error("Error al compartir:",e),copiarAlPortapapeles(a)}):copiarAlPortapapeles(a)}});